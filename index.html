<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URSOTV PRO - Master</title>
    <style>
        :root { --gold: #ffcc00; --bg: #050505; }
        body { background: var(--bg); color: white; font-family: sans-serif; margin: 0; text-align: center; }
        .header { padding: 15px; background: #111; border-bottom: 2px solid var(--gold); }
        .pata { font-size: 35px; filter: drop-shadow(0 0 8px var(--gold)); }
        
        .btn-group { display: flex; justify-content: center; gap: 8px; margin: 10px 0; flex-wrap: wrap; }
        button { background: #1a1a1a; color: var(--gold); border: 1px solid var(--gold); padding: 10px; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 10px; }
        button.active { background: var(--gold); color: black; }

        /* Painel de Edi√ß√£o */
        #edit-panel { display: none; background: #151515; padding: 15px; border: 1px dashed var(--gold); margin: 10px; border-radius: 10px; }
        input { width: 90%; padding: 8px; margin: 5px 0; background: #000; border: 1px solid #333; color: #fff; font-size: 11px; border-radius: 4px; }
        
        .status-box { width: 85%; max-width: 350px; margin: 30px auto; background: #111; padding: 25px; border-radius: 15px; border: 1px solid #333; }
        .prog-bg { width: 100%; height: 10px; background: #222; border-radius: 5px; margin: 15px 0; overflow: hidden; }
        .prog-fill { width: 0%; height: 100%; background: var(--gold); box-shadow: 0 0 10px var(--gold); transition: width 0.2s; }
        
        .support-btn { background: #222; color: #888; border: none; padding: 5px 10px; font-size: 10px; margin-top: 20px; border-radius: 20px; cursor: pointer; }
    </style>
</head>
<body>

<div class="header">
    <div class="pata">üêæ</div>
    <div style="font-size: 22px; font-weight: 900;">URSOTV <span style="color:var(--gold)">PRO</span></div>
    <div class="btn-group">
        <button onclick="play(0, this)" id="b0">SERV 01</button>
        <button onclick="play(1, this)">SERV 02</button>
        <button onclick="play(2, this)">SERV 03</button>
        <button onclick="toggleEdit()" style="border-color: #555; color: #888;">üîß AJUSTAR URLs</button>
    </div>
</div>

<div id="edit-panel">
    <div style="font-size: 12px; color: var(--gold); margin-bottom: 10px;">EDITAR LINKS DOS SERVIDORES</div>
    <input type="text" id="url0" placeholder="URL Servidor 1">
    <input type="text" id="url1" placeholder="URL Servidor 2">
    <input type="text" id="url2" placeholder="URL Servidor 3">
    <button onclick="saveUrls()" style="background: var(--gold); color: black; width: 100%; margin-top: 5px;">SALVAR ALTERA√á√ïES</button>
</div>

<div class="status-box">
    <div id="msg" style="color: var(--gold); font-weight: bold; font-size: 16px;">SINTONIZANDO...</div>
    <div class="prog-bg"><div id="bar" class="prog-fill"></div></div>
    <div id="detail" style="font-size: 11px; color: #555;">Iniciando sistema de rastreio...</div>
</div>

<button class="support-btn" onclick="alert('Suporte: Ajuste as URLs se o VLC der erro de reprodu√ß√£o.')">SUPORTE T√âCNICO</button>

<script>
    // URLs Padr√£o
    let serverUrls = [
        "http://dj.chefemcasa.store:8080/live/adl021222/iptvemcasa@1/",
        "http://provedorduo.xyz/live/09927119/49290268/",
        "http://rede.tvno.site/live/barreto1766/ma257799007/"
    ];

    // Carregar URLs salvas se existirem
    if(localStorage.getItem('ursoUrls')) {
        serverUrls = JSON.parse(localStorage.getItem('ursoUrls'));
    }

    function toggleEdit() {
        const panel = document.getElementById('edit-panel');
        panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
        document.getElementById('url0').value = serverUrls[0];
        document.getElementById('url1').value = serverUrls[1];
        document.getElementById('url2').value = serverUrls[2];
    }

    function saveUrls() {
        serverUrls[0] = document.getElementById('url0').value;
        serverUrls[1] = document.getElementById('url1').value;
        serverUrls[2] = document.getElementById('url2').value;
        localStorage.setItem('ursoUrls', JSON.stringify(serverUrls));
        alert("URLs Atualizadas com Sucesso!");
        toggleEdit();
    }

    function play(srvIdx, btn) {
        document.querySelectorAll('button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        let id = 1;
        const bar = document.getElementById('bar');
        const interval = setInterval(() => {
            id += 20; 
            bar.style.width = (id / 1000 * 100) + "%";
            document.getElementById('detail').innerText = "Rastreando ID: " + id;

            if (id >= 1000) {
                clearInterval(interval);
                // Envia para o VLC usando o ID 1 como teste padr√£o
                const finalUrl = serverUrls[srvIdx] + "1.m3u8";
                const intent = `intent://${finalUrl.replace(/https?:\/\//, '')}#Intent;scheme=http;type=video/*;package=org.videolan.vlc;end`;
                window.location.href = intent;
            }
        }, 30);
    }

    window.onload = () => document.getElementById('b0').click();
</script>
</body>
</html>

